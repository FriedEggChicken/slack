(self.webpackChunksleact_ts_front=self.webpackChunksleact_ts_front||[]).push([[364],{92309:(n,e,t)=>{"use strict";t.d(e,{Z:()=>_});var r,a,o,i,l,c,u=t(5996),s=t(32034);function d(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var p=u.Z.div(r||(r=d(["\n  display: flex;\n  width: 100%;\n  padding: 20px;\n  padding-top: 0;\n"]))),f=u.Z.form(a||(a=d(["\n  color: rgb(29, 28, 29);\n  font-size: 15px;\n  width: 100%;\n  border-radius: 4px;\n  border: 1px solid rgb(29, 28, 29);\n"]))),m=(0,u.Z)(s.r)(o||(o=d(["\n  font-family: Slack-Lato, appleLogo, sans-serif;\n  font-size: 15px;\n  padding: 8px 9px;\n  width: 100%;\n  & strong {\n    background: skyblue;\n  }\n  & textarea {\n    height: 44px;\n    padding: 9px 10px !important;\n    outline: none !important;\n    border-radius: 4px !important;\n    resize: none !important;\n    line-height: 22px;\n    border: none;\n  }\n  & ul {\n    border: 1px solid lightgray;\n    max-height: 200px;\n    overflow-y: auto;\n    padding: 9px 10px;\n    background: white;\n    border-radius: 4px;\n    width: 150px;\n  }\n"]))),b=u.Z.div(i||(i=d(["\n  position: relative;\n  background: rgb(248, 248, 248);\n  height: 41px;\n  display: flex;\n  border-top: 1px solid rgb(221, 221, 221);\n  align-items: center;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n"]))),h=u.Z.button(l||(l=d(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n"]))),g=u.Z.button(c||(c=d(["\n  padding: 4px 20px;\n  background: transparent;\n  border: none;\n  display: flex;\n  align-items: center;\n  color: rgb(28, 29, 28);\n  width: 100%;\n  & img {\n    margin-right: 5px;\n  }\n  ",";\n"])),(function(n){return n.focus&&"\n    background: #1264a3;\n    color: white;\n  "})),x=t(67294),v=t(3682),y=t(5977),w=t(95591),k=t(83564),E=t(66182),Z=t.n(E);const _=function(n){var e=n.chat,t=n.onSubmitForm,r=n.onChangeChat,a=n.placeholder,o=(0,y.UO)().workspace,i=(0,w.ZP)("/api/users",k.Z,{dedupingInterval:2e3}),l=i.data,c=(i.error,i.mutate,(0,w.ZP)(l?"/api/workspaces/".concat(o,"/members"):null,k.Z).data),u=(0,x.useRef)(null);(0,x.useEffect)((function(){u.current&&(0,v.Z)(u.current)}),[]);var d=(0,x.useCallback)((function(n){"Enter"===n.key&&(n.shiftKey||(n.preventDefault(),t(n)))}),[t]),E=(0,x.useCallback)((function(n,e,t,r,a){if(c)return x.createElement(g,{focus:a},x.createElement("img",{src:Z().url(c[r].email,{s:"20px",d:"retro"}),alt:c[r].nickname}),x.createElement("span",null,t))}),[c]);return x.createElement(p,null,x.createElement(f,{onSubmit:t},x.createElement(m,{id:"editor-chat",value:e,onChange:r,onKeyDown:d,placeholder:a,inputRef:u,allowSuggestionsAboveCursor:!0},x.createElement(s.p,{appendSpaceOnAdd:!0,trigger:"@",data:(null==c?void 0:c.map((function(n){return{id:n.id,display:n.nickname}})))||[],renderSuggestion:E})),x.createElement(b,null,x.createElement(h,{className:"c-button-unstyled c-icon_button c-icon_button--light c-icon_button--size_medium c-texty_input__button c-texty_input__button--send"+(null!=e&&e.trim()?"":" c-texty_input__button--disabled"),"data-qa":"texty_send_button","aria-label":"Send message","data-sk":"tooltip_parent",type:"submit",disabled:!(null!=e&&e.trim())},x.createElement("i",{className:"c-icon c-icon--paperplane-filled","aria-hidden":"true"})))))}},32545:(n,e,t)=>{"use strict";t.d(e,{Z:()=>S});var r,a,o,i=t(67294),l=t(5996);function c(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var u,s,d,p=l.Z.div(r||(r=c(["\n  width: 100%;\n  display: flex;\n  flex: 1;\n"]))),f=l.Z.section(a||(a=c(["\n  margin-top: 20px;\n  border-top: 1px solid #eee;\n"]))),m=l.Z.div(o||(o=c(["\n  display: flex;\n  justify-content: center;\n  flex: 1;\n  width: 100%;\n  position: sticky;\n  top: 14px;\n  & button {\n    font-weight: bold;\n    font-size: 13px;\n    height: 28px;\n    line-height: 27px;\n    padding: 0 16px;\n    z-index: 2;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 1px 3px 0 rgba(0, 0, 0, 0.08);\n    border-radius: 24px;\n    position: relative;\n    top: -13px;\n    background: white;\n    border: none;\n    outline: none;\n  }\n"]))),b=l.Z.div(u||(s=["\n  display: flex;\n  padding: 8px 20px;\n  &:hover {\n    background: #eee;\n  }\n  & .chat-img {\n    display: flex;\n    width: 36px;\n    margin-right: 8px;\n    & img {\n      width: 36px;\n      height: 36px;\n    }\n  }\n"],d||(d=s.slice(0)),u=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(d)}})))),h=t(66182),g=t.n(h),x=t(27484),v=t.n(x),y=t(38817),w=t(5977),k=t(73727),E=function(n){var e=n.data,t=(0,w.UO)().workspace,r="Sender"in e?e.Sender:e.User,a=(0,i.useMemo)((function(){return(0,y.Z)({input:e.content,pattern:/@\[(.+?)]\((\d+?)\)|\n/g,decorator:function(n,e){var r=n.match(/@\[(.+?)]\((\d+?)\)/);return r?i.createElement(k.rU,{key:n+e,to:"/workspace/".concat(t,"/dm/").concat(r[2])},"@",r[1]):i.createElement("br",{key:e})}})}),[e.content]);return i.createElement(b,null,i.createElement("div",{className:"chat-img"},i.createElement("img",{src:g().url(r.email,{s:"36px",d:"retro"}),alt:r.nickname})),i.createElement("div",{className:"chat-text"},i.createElement("div",{className:"chat-user"},i.createElement("b",null,r.nickname),i.createElement("span",null,v()(e.createdAt).format("h:mm A"))),i.createElement("p",null,a)))};const Z=(0,i.memo)(E);var _=t(86658);function C(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const S=(0,i.forwardRef)((function(n,e){var t=n.chatSections,r=n.setSize,a=n.isReachingEnd,o=(0,i.useCallback)((function(n){0!==n.scrollTop||a||(console.log("가장 위"),r((function(n){return n+1})).then((function(){var t=null==e?void 0:e.current;t&&t.scrollTop(t.getScrollHeight()-n.scrollHeight)})))}),[]);return i.createElement(p,null,i.createElement(_.$B,{autoHide:!0,ref:e,onScrollFrame:o},Object.entries(t).map((function(n){var e,t,r=(t=2,function(n){if(Array.isArray(n))return n}(e=n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){u=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(n,e){if(n){if("string"==typeof n)return C(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1];return i.createElement(f,{className:"section-".concat(a),key:a},i.createElement(m,null,i.createElement("button",null,a)),o.map((function(n){return i.createElement(Z,{key:n.id,data:n})})))}))))}))},79250:(n,e,t)=>{"use strict";t.d(e,{Z:()=>m});var r=t(15692),a=t(38678),o=t(73046),i=t(83564),l=t(9669),c=t.n(l),u=t(67294),s=t(5977),d=t(96042),p=t(95591);function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const m=function(n){var e,t,l=n.show,m=n.onCloseModal,b=n.setShowInviteChannelModal,h=(0,s.UO)(),g=h.workspace,x=h.channel,v=(e=(0,a.Z)(""),t=3,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){u=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(n,e){if(n){if("string"==typeof n)return f(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=v[0],w=v[1],k=v[2],E=(0,p.ZP)("/api/users",i.Z).data,Z=(0,p.ZP)(E&&x?"/api/workspaces/".concat(g,"/channels/").concat(x,"/members"):null,i.Z).mutate,_=(0,u.useCallback)((function(n){n.preventDefault(),y&&y.trim()&&c().post("/api/workspaces/".concat(g,"/channels/").concat(x,"/members"),{email:y}).then((function(){Z(),b(!1),k("")})).catch((function(n){var e;console.dir(n),d.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[y]);return u.createElement(r.Z,{show:l,onCloseModal:m},u.createElement("form",{onSubmit:_},u.createElement(o.__,{id:"member-label"},u.createElement("span",null,"채널 멤버 초대"),u.createElement(o.II,{id:"member",value:y,onChange:w})),u.createElement(o.zx,{type:"submit"},"초대하기")))}},15692:(n,e,t)=>{"use strict";t.d(e,{Z:()=>s});var r,a,o=t(5996);function i(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var l=o.Z.div(r||(r=i(["\n  position: fixed;\n  text-align: center;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  right: 0;\n  z-index: 1022;\n  & > div {\n    margin-top: 200px;\n    display: inline-block;\n    width: 440px;\n    background: white;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 4px 12px 0 rgba(0, 0, 0, 0.12);\n    background-color: rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);\n    border-radius: 6px;\n    user-select: none;\n    max-width: 440px;\n    padding: 30px 40px 0;\n    z-index: 1012;\n    position: relative;\n  }\n"]))),c=o.Z.button(a||(a=i(["\n  position: absolute;\n  right: 10px;\n  top: 6px;\n  background: transparent;\n  border: none;\n  font-size: 30px;\n  cursor: pointer;\n"]))),u=t(67294);const s=function(n){var e=n.show,t=n.children,r=n.onCloseModal,a=(0,u.useCallback)((function(n){n.stopPropagation()}),[]);return e?u.createElement(l,{onClick:r},u.createElement("div",{onClick:a},u.createElement(c,{onClick:r},"×"),t)):null}},38678:(n,e,t)=>{"use strict";t.d(e,{Z:()=>o});var r=t(67294);function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const o=function(n){var e,t,o=(e=(0,r.useState)(n),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){u=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(n,e){if(n){if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];return[i,(0,r.useCallback)((function(n){l(n.target.value)}),[]),l]}},32951:(n,e,t)=>{"use strict";t.d(e,{Z:()=>l});var r=t(86809),a=t.n(r),o=t(67294),i={};const l=function(n){var e=(0,o.useCallback)((function(){n&&(i[n].disconnect(),delete i[n])}),[n]);return n?(i[n]||(i[n]=a().connect("".concat("http://localhost:3095","/ws-").concat(n),{transports:["websocket"]})),[i[n],e]):[void 0,e]}},42867:(n,e,t)=>{"use strict";t.d(e,{Z:()=>gn});var r,a,o,i,l,c,u,s,d,p,f,m,b,h,g=t(83564),x=t(9669),v=t.n(x),y=t(67294),w=t(5977),k=t(95591),E=t(5996);function Z(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var _,C,S=E.Z.div(r||(r=Z(["\n  float: right;\n"]))),j=E.Z.header(a||(a=Z(["\n  height: 38px;\n  background: #350d36;\n  color: #ffffff;\n  box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1);\n  padding: 5px;\n  text-align: center;\n"]))),O=E.Z.img(o||(o=Z(["\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  top: 5px;\n  right: 16px;\n"]))),A=E.Z.div(i||(i=Z(["\n  display: flex;\n  padding: 20px;\n  & img {\n    display: flex;\n  }\n  & > div {\n    display: flex;\n    flex-direction: column;\n    margin-left: 10px;\n  }\n  & #profile-name {\n    font-weight: bold;\n    display: inline-flex;\n  }\n  & #profile-active {\n    font-size: 13px;\n    display: inline-flex;\n  }\n"]))),z=E.Z.button(l||(l=Z(["\n  border: none;\n  width: 100%;\n  border-top: 1px solid rgb(29, 28, 29);\n  background: transparent;\n  display: block;\n  height: 33px;\n  padding: 5px 20px 5px;\n  outline: none;\n  cursor: pointer;\n"]))),I=E.Z.div(c||(c=Z(["\n  display: flex;\n  flex: 1;\n"]))),M=E.Z.div(u||(u=Z(["\n  width: 65px;\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  background: #3f0e40;\n  border-top: 1px solid rgb(82, 38, 83);\n  border-right: 1px solid rgb(82, 38, 83);\n  vertical-align: top;\n  text-align: center;\n  padding: 15px 0 0;\n"]))),P=E.Z.nav(s||(s=Z(["\n  width: 260px;\n  display: inline-flex;\n  flex-direction: column;\n  background: #3f0e40;\n  color: rgb(188, 171, 188);\n  vertical-align: top;\n  & a {\n    padding-left: 36px;\n    color: inherit;\n    text-decoration: none;\n    height: 28px;\n    line-height: 28px;\n    display: flex;\n    align-items: center;\n    &.selected {\n      color: white;\n    }\n  }\n  & .bold {\n    color: white;\n    font-weight: bold;\n  }\n  & .count {\n    margin-left: auto;\n    background: #cd2553;\n    border-radius: 16px;\n    display: inline-block;\n    font-size: 12px;\n    font-weight: 700;\n    height: 18px;\n    line-height: 18px;\n    padding: 0 9px;\n    color: white;\n    margin-right: 16px;\n  }\n  & h2 {\n    height: 36px;\n    line-height: 36px;\n    margin: 0;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    font-size: 15px;\n  }\n"]))),U=E.Z.button(d||(d=Z(["\n  height: 64px;\n  line-height: 64px;\n  border: none;\n  width: 100%;\n  text-align: left;\n  border-top: 1px solid rgb(82, 38, 83);\n  border-bottom: 1px solid rgb(82, 38, 83);\n  font-weight: 900;\n  font-size: 24px;\n  background: transparent;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  padding: 0;\n  padding-left: 16px;\n  margin: 0;\n  color: white;\n  cursor: pointer;\n"]))),N=E.Z.div(p||(p=Z(["\n  height: calc(100vh - 102px);\n  overflow-y: auto;\n"]))),T=E.Z.div(f||(f=Z(["\n  padding: 10px 0 0;\n  & h2 {\n    padding-left: 20px;\n  }\n  & > button {\n    width: 100%;\n    height: 28px;\n    padding: 4px;\n    border: none;\n    background: transparent;\n    border-top: 1px solid rgb(28, 29, 28);\n    cursor: pointer;\n    &:last-of-type {\n      border-bottom: 1px solid rgb(28, 29, 28);\n    }\n  }\n"]))),D=E.Z.div(m||(m=Z(["\n  flex: 1;\n"]))),$=E.Z.button(b||(b=Z(["\n  color: white;\n  font-size: 24px;\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n"]))),L=E.Z.button(h||(h=Z(["\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  border-radius: 10px;\n  background: white;\n  border: 3px solid #3f0e40;\n  margin-bottom: 15px;\n  font-size: 18px;\n  font-weight: 700;\n  color: black;\n  cursor: pointer;\n"]))),q=t(73046),H=t(66182),B=t.n(H);function F(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var R=E.Z.div(_||(_=F(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 1000;\n  & > div {\n    position: absolute;\n    display: inline-block;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 4px 12px 0 rgba(0, 0, 0, 0.12);\n    background-color: rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);\n    border-radius: 6px;\n    user-select: none;\n    min-width: 360px;\n    z-index: 512;\n    max-height: calc(100vh - 20px);\n    color: rgb(29, 28, 29);\n  }\n"]))),Y=E.Z.button(C||(C=F(["\n  position: absolute;\n  right: 10px;\n  top: 6px;\n  background: transparent;\n  border: none;\n  font-size: 30px;\n  cursor: pointer;\n"]))),W=function(n){var e=n.children,t=n.style,r=n.show,a=n.onCloseModal,o=n.closeButton,i=(0,y.useCallback)((function(n){n.stopPropagation()}),[]);return r?y.createElement(R,{onClick:a},y.createElement("div",{style:t,onClick:i},o&&y.createElement(Y,{onClick:a},"×"),e)):null};W.defaultProps={closeButton:!0};const K=W;var J=t(73727),G=t(38678),Q=t(15692),V=t(96042);function X(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const nn=function(n){var e,t,r=n.show,a=n.onCloseModal,o=n.setShowCreateChannelModal,i=(e=(0,G.Z)(""),t=3,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){u=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(n,e){if(n){if("string"==typeof n)return X(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1],u=i[2],s=(0,w.UO)(),d=s.workspace,p=(s.channel,(0,k.ZP)("/api/users",g.Z,{dedupingInterval:2e3})),f=p.data,m=(p.error,p.mutate,(0,k.ZP)(f?"/api/workspaces/".concat(d,"/channels"):null,g.Z)),b=(m.data,m.mutate),h=(0,y.useCallback)((function(n){n.preventDefault(),v().post("/api/workspaces/".concat(d,"/channels"),{name:l},{withCredentials:!0}).then((function(){o(!1),b(),u("")})).catch((function(n){var e;console.dir(n),V.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[l]);return y.createElement(Q.Z,{show:r,onCloseModal:a},y.createElement("form",{onSubmit:h},y.createElement(q.__,{id:"channel-label"},y.createElement("span",null,"채널"),y.createElement(q.II,{id:"channel",value:l,onChange:c})),y.createElement(q.zx,{type:"submit"},"생성하기")))};function en(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const tn=function(n){var e,t,r=n.show,a=n.onCloseModal,o=n.setShowInviteWorkspaceModal,i=(0,w.UO)().workspace,l=(e=(0,G.Z)(""),t=3,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){u=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(n,e){if(n){if("string"==typeof n)return en(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?en(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],s=l[2],d=(0,k.ZP)("/api/users",g.Z).data,p=(0,k.ZP)(d?"/api/workspaces/".concat(i,"/members"):null,g.Z).mutate,f=(0,y.useCallback)((function(n){n.preventDefault(),c&&c.trim()&&v().post("/api/workspaces/".concat(i,"/members"),{email:c}).then((function(n){p(),o(!1),s("")})).catch((function(n){var e;console.dir(n),V.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[i,c]);return y.createElement(Q.Z,{show:r,onCloseModal:a},y.createElement("form",{onSubmit:f},y.createElement(q.__,{id:"member-label"},y.createElement("span",null,"이메일"),y.createElement(q.II,{id:"member",type:"email",value:c,onChange:u})),y.createElement(q.zx,{type:"submit"},"초대하기")))};var rn,an,on,ln=t(79250),cn=E.Z.button(rn||(an=["\n  background: transparent;\n  border: none;\n  width: 26px;\n  height: 26px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  margin-left: 10px;\n  cursor: pointer;\n  ",";\n"],on||(on=an.slice(0)),rn=Object.freeze(Object.defineProperties(an,{raw:{value:Object.freeze(on)}}))),(function(n){return n.collapse&&"\n    & i {\n      transform: none;\n    }\n  "})),un=t(32951);function sn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){u=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(n,e)||function(n,e){if(n){if("string"==typeof n)return dn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?dn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const pn=function(){var n=(0,w.UO)().workspace,e=(0,k.ZP)("/api/users",g.Z,{dedupingInterval:2e3}),t=e.data,r=(e.error,e.mutate,(0,k.ZP)(t?"/api/workspaces/".concat(n,"/members"):null,g.Z).data),a=sn((0,un.Z)(n),1)[0],o=sn((0,y.useState)(!1),2),i=o[0],l=o[1],c=sn((0,y.useState)([]),2),u=c[0],s=c[1],d=(0,y.useCallback)((function(){l((function(n){return!n}))}),[]);return(0,y.useEffect)((function(){console.log("DMList: workspace 바꼈다",n),s([])}),[n]),(0,y.useEffect)((function(){return null==a||a.on("onlineList",(function(n){s(n)})),function(){null==a||a.off("onlineList")}}),[a]),y.createElement(y.Fragment,null,y.createElement("h2",null,y.createElement(cn,{collapse:i,onClick:d},y.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),y.createElement("span",null,"Direct Messages")),y.createElement("div",null,!i&&(null==r?void 0:r.map((function(e){var r=u.includes(e.id);return y.createElement(J.OL,{key:e.id,activeClassName:"selected",to:"/workspace/".concat(n,"/dm/").concat(e.id)},y.createElement("i",{className:"c-icon p-channel_sidebar__presence_icon p-channel_sidebar__presence_icon--dim_enabled c-presence ".concat(r?"c-presence--active c-icon--presence-online":"c-icon--presence-offline"),"aria-hidden":"true","data-qa":"presence_indicator","data-qa-presence-self":"false","data-qa-presence-active":"false","data-qa-presence-dnd":"false"}),y.createElement("span",null,e.nickname),e.id===(null==t?void 0:t.id)&&y.createElement("span",null," (나)"))})))))};function fn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const mn=function(){var n,e,t=(0,w.UO)().workspace,r=(0,k.ZP)("/api/users",g.Z,{dedupingInterval:2e3}),a=r.data,o=(r.error,r.mutate,(0,k.ZP)(a?"/api/workspaces/".concat(t,"/channels"):null,g.Z).data),i=(n=(0,y.useState)(!1),e=2,function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){u=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(n,e)||function(n,e){if(n){if("string"==typeof n)return fn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1],u=(0,y.useCallback)((function(){c((function(n){return!n}))}),[]);return y.createElement(y.Fragment,null,y.createElement("h2",null,y.createElement(cn,{collapse:l,onClick:u},y.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),y.createElement("span",null,"Channels")),y.createElement("div",null,!l&&(null==o?void 0:o.map((function(n){return y.createElement(J.OL,{key:n.name,activeClassName:"selected",to:"/workspace/".concat(t,"/channel/").concat(n.name)},y.createElement("span",null,"# ",n.name))})))))};function bn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){u=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(n,e)||function(n,e){if(n){if("string"==typeof n)return hn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const gn=function(n){var e,t=n.children,r=bn((0,y.useState)(!1),2),a=r[0],o=r[1],i=bn((0,y.useState)(!1),2),l=i[0],c=i[1],u=bn((0,y.useState)(!1),2),s=u[0],d=u[1],p=bn((0,y.useState)(!1),2),f=p[0],m=p[1],b=bn((0,y.useState)(!1),2),h=b[0],x=b[1],E=bn((0,y.useState)(!1),2),Z=E[0],_=E[1],C=bn((0,G.Z)(""),3),H=C[0],F=C[1],R=C[2],Y=bn((0,G.Z)(""),3),W=Y[0],X=Y[1],en=Y[2],rn=(0,k.ZP)("/api/users",g.Z),an=rn.data,on=(rn.error,rn.mutate),cn=(0,w.UO)().workspace,sn=(0,k.ZP)(an?"/api/workspaces/".concat(cn,"/channels"):null,g.Z).data,dn=((0,k.ZP)(an?"/api/workspaces/".concat(cn,"/members"):null,g.Z).data,bn((0,un.Z)(cn),2)),fn=dn[0],hn=dn[1];(0,y.useEffect)((function(){sn&&an&&fn&&fn.emit("login",{id:an.id,channels:sn.map((function(n){return n.id}))})}),[fn,sn,an]),(0,y.useEffect)((function(){return function(){hn()}}),[cn,hn]);var gn=(0,y.useCallback)((function(){v().post("/api/users/logout",null,{withCredentials:!0}).then((function(){on(!1,!1)}))}),[]),xn=(0,y.useCallback)((function(){o((function(n){return!n}))}),[]),vn=(0,y.useCallback)((function(n){n.stopPropagation(),o(!1)}),[]),yn=(0,y.useCallback)((function(){c(!0)}),[]),wn=(0,y.useCallback)((function(n){n.preventDefault(),H&&H.trim()&&W&&W.trim()&&v().post("/api/workspaces",{workspace:H,url:W},{withCredentials:!0}).then((function(){on(),c(!1),R(""),en("")})).catch((function(n){var e;console.dir(n),V.Am.error((null!==(e=n.response)&&void 0!==e&&e.data,{position:"bottom-center"}))}))}),[H,W]),kn=(0,y.useCallback)((function(){c(!1),m(!1),x(!1),_(!1)}),[]),En=(0,y.useCallback)((function(){d((function(n){return!n}))}),[]),Zn=(0,y.useCallback)((function(){x(!0)}),[]),_n=(0,y.useCallback)((function(){m(!0)}),[]);return an?y.createElement("div",null,y.createElement(j,null,y.createElement(S,null,y.createElement("span",{onClick:xn},y.createElement(O,{src:B().url(an.email,{s:"28px",d:"retro"}),alt:an.nickname}),a&&y.createElement(K,{style:{right:0,top:38},show:a,onCloseModal:vn},y.createElement(A,null,y.createElement("img",{src:B().url(an.email,{s:"36px",d:"retro"}),alt:an.nickname}),y.createElement("div",null,y.createElement("span",{id:"profile-name"},an.nickname),y.createElement("span",{id:"profile-active"},"Active"))),y.createElement(z,{onClick:gn},"로그아웃"))))),y.createElement(I,null,y.createElement(M,null,null==an||null===(e=an.Workspaces)||void 0===e?void 0:e.map((function(n){return y.createElement(J.rU,{key:n.id,to:"/workspace/".concat(123,"/channel/일반")},y.createElement(L,null,n.name.slice(0,1).toUpperCase()))})),y.createElement($,{onClick:yn},"+")),y.createElement(P,null,y.createElement(U,{onClick:En},"Sleact"),y.createElement(N,null,y.createElement(K,{show:s,onCloseModal:En,style:{top:95,left:80}},y.createElement(T,null,y.createElement("h2",null,"Sleact"),y.createElement("button",{onClick:Zn},"워크스페이스에 사용자 초대"),y.createElement("button",{onClick:_n},"채널 만들기"),y.createElement("button",{onClick:gn},"로그아웃"))),y.createElement(mn,null),y.createElement(pn,null),null==sn?void 0:sn.map((function(n){return y.createElement("div",null,n.name)})))),y.createElement(D,null,t)),y.createElement(Q.Z,{show:l,onCloseModal:kn},y.createElement("form",{onSubmit:wn},y.createElement(q.__,{id:"workspace-label"},y.createElement("span",null,"워크스페이스 이름"),y.createElement(q.II,{id:"workspace",value:H,onChange:F})),y.createElement(q.__,{id:"workspace-url-label"},y.createElement("span",null,"워크스페이스 url"),y.createElement(q.II,{id:"workspace",value:W,onChange:X})),y.createElement(q.zx,{type:"submit"},"생성하기"))),y.createElement(nn,{show:f,onCloseModal:kn,setShowCreateChannelModal:m}),y.createElement(tn,{show:h,onCloseModal:kn,setShowInviteWorkspaceModal:x}),y.createElement(ln.Z,{show:Z,onCloseModal:kn,setShowInviteChannelModal:_})):y.createElement(w.l_,{to:"/login"})}},73046:(n,e,t)=>{"use strict";t.d(e,{II:()=>h,Ji:()=>y,__:()=>b,fB:()=>v,h4:()=>f,jj:()=>x,l0:()=>m,zx:()=>g});var r,a,o,i,l,c,u,s,d=t(5996);function p(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var f=d.Z.header(r||(r=p(["\n  text-align: center;\n  font-family: Slack-Larsseit, Helvetica Neue, Helvetica, Segoe UI, Tahoma, Arial, sans-serif;\n  font-weight: 700;\n  font-size: 48px;\n  line-height: 46px;\n  letter-spacing: -0.75px;\n  margin-top: 50px;\n  margin-bottom: 50px;\n"]))),m=d.Z.form(a||(a=p(["\n  margin: 0 auto;\n  width: 400px;\n  max-width: 400px;\n"]))),b=d.Z.label(o||(o=p(["\n  margin-bottom: 16px;\n  & > span {\n    display: block;\n    text-align: left;\n    padding-bottom: 8px;\n    font-size: 15px;\n    cursor: pointer;\n    line-height: 1.46666667;\n    font-weight: 700;\n  }\n"]))),h=d.Z.input(i||(i=p(["\n  border-radius: 4px;\n  --saf-0: rgba(var(--sk_foreground_high_solid, 134, 134, 134), 1);\n  border: 1px solid var(--saf-0);\n  transition: border 80ms ease-out, box-shadow 80ms ease-out;\n  box-sizing: border-box;\n  margin: 0 0 20px;\n  width: 100%;\n  color: rgba(var(--sk_primary_foreground, 29, 28, 29), 1);\n  background-color: rgba(var(--sk_primary_background, 255, 255, 255), 1);\n  padding: 12px;\n  height: 44px;\n  padding-top: 11px;\n  padding-bottom: 13px;\n  font-size: 18px;\n  line-height: 1.33333333;\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"]))),g=d.Z.button(l||(l=p(["\n  margin-bottom: 12px;\n  width: 100%;\n  max-width: 100%;\n  color: #fff;\n  background-color: #4a154b;\n  border: none;\n  font-size: 18px;\n  font-weight: 900;\n  height: 44px;\n  min-width: 96px;\n  padding: 0 16px 3px;\n  transition: all 80ms linear;\n  user-select: none;\n  outline: none;\n  cursor: pointer;\n  border-radius: 4px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n  &:hover {\n    background-color: rgba(74, 21, 75, 0.9);\n    border: none;\n  }\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"]))),x=d.Z.div(c||(c=p(["\n  color: #e01e5a;\n  margin: 8px 0 16px;\n  font-weight: bold;\n"]))),v=d.Z.div(u||(u=p(["\n  color: #2eb67d;\n  font-weight: bold;\n"]))),y=d.Z.p(s||(s=p(["\n  font-size: 13px;\n  color: #616061;\n  margin: 0 auto 8px;\n  width: 400px;\n  max-width: 400px;\n  & a {\n    color: #1264a3;\n    text-decoration: none;\n    font-weight: 700;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"])))},83564:(n,e,t)=>{"use strict";t.d(e,{Z:()=>o});var r=t(9669),a=t.n(r);const o=function(n){return a().get(n,{withCredentials:!0}).then((function(n){return n.data}))}},18667:(n,e,t)=>{"use strict";t.d(e,{Z:()=>o});var r=t(27484),a=t.n(r);function o(n){var e={};return n.forEach((function(n){var t=a()(n.createdAt).format("YYYY-MM-DD");Array.isArray(e[t])?e[t].push(n):e[t]=[n]})),e}},77020:()=>{}}]);